{"version":3,"sources":["../../src/modules/session.ts","../../src/utils/index.ts"],"sourcesContent":["import { Client } from \"../client\";\nimport { CreateSessionOptions, CreateSessionResponse } from \"../interfaces\";\nimport { preciseRound } from \"../utils\";\n\nexport class Session {\n  private client: Client;\n  private network: string;\n  private config: object;\n\n  constructor(client: Client, network: string, config: object) {\n    this.client = client;\n    this.network = network;\n    this.config = config;\n  }\n\n  /**\n   * It takes in an object, makes a POST request to the /session endpoint, and returns\n   * the response data\n   * @param {CreateSessionOptions} options - SessionOptions\n   * @returns The response data from the API call.\n   */\n  async create(options: CreateSessionOptions): Promise<CreateSessionResponse> {\n    try {\n      let amount = preciseRound(\n        options.items.reduce(\n          (index, { price, quantity }) => index + price * quantity,\n          0\n        ),\n        3\n      );\n\n      if (options.shipping_fees) {\n        amount = preciseRound(amount + options.shipping_fees, 3);\n      }\n\n      const parameters = {\n        ...options,\n        network: this.network,\n        amount,\n        config: this.config,\n      };\n\n      const response = await this.client.post(`/session`, parameters);\n      return response.data;\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n}\n","import { tokens } from \"../constants\";\nimport { SupportedSplTokens } from \"../types\";\n\n/**\n * Returns mint address of the supported SPL token\n */\nexport const getSupportedTokenMintAddress = (\n  token: SupportedSplTokens | \"sol\" | \"usdc\"\n) => {\n  return tokens.get(token);\n};\n\n/**\n * Precise round a number\n */\nexport const preciseRound = (number: number, precision: number) => {\n  const multiplier = !!precision ? Math.pow(10, precision) : 1;\n  return Math.ceil(number * multiplier) / multiplier;\n};\n"],"mappings":"syBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCeO,IAAMI,EAAeC,EAAA,CAACC,EAAgBC,IAAsB,CACjE,IAAMC,EAAeD,EAAY,KAAK,IAAI,GAAIA,CAAS,EAAI,EAC3D,OAAO,KAAK,KAAKD,EAASE,CAAU,EAAIA,CAC1C,EAH4B,gBDXrB,IAAMC,EAAN,KAAc,CAKnB,YAAYC,EAAgBC,EAAiBC,EAAgB,CAC3D,KAAK,OAASF,EACd,KAAK,QAAUC,EACf,KAAK,OAASC,CAChB,CAQA,MAAM,OAAOC,EAA+D,CAC1E,GAAI,CACF,IAAIC,EAASC,EACXF,EAAQ,MAAM,OACZ,CAACG,EAAO,CAAE,MAAAC,EAAO,SAAAC,CAAS,IAAMF,EAAQC,EAAQC,EAChD,CACF,EACA,CACF,EAEIL,EAAQ,gBACVC,EAASC,EAAaD,EAASD,EAAQ,cAAe,CAAC,GAGzD,IAAMM,EAAaC,EAAAC,EAAA,GACdR,GADc,CAEjB,QAAS,KAAK,QACd,OAAAC,EACA,OAAQ,KAAK,MACf,GAGA,OADiB,MAAM,KAAK,OAAO,KAAK,WAAYK,CAAU,GAC9C,IAClB,OAASG,EAAP,CACA,MAAM,IAAI,MAAMA,CAAG,CACrB,CACF,CACF,EA5CaC,EAAAd,EAAA","names":["session_exports","__export","Session","__toCommonJS","preciseRound","__name","number","precision","multiplier","Session","client","network","config","options","amount","preciseRound","index","price","quantity","parameters","__spreadProps","__spreadValues","err","__name"]}