var i=Object.defineProperty,b=Object.defineProperties,y=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols;var u=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var m=(o,e,t)=>e in o?i(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,d=(o,e)=>{for(var t in e||(e={}))u.call(e,t)&&m(o,t,e[t]);if(h)for(var t of h(e))x.call(e,t)&&m(o,t,e[t]);return o},l=(o,e)=>b(o,S(e)),n=(o,e)=>i(o,"name",{value:e,configurable:!0});var R=(o,e)=>{for(var t in e)i(o,t,{get:e[t],enumerable:!0})},v=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of C(e))!u.call(o,s)&&s!==t&&i(o,s,{get:()=>e[s],enumerable:!(r=y(e,s))||r.enumerable});return o};var T=o=>v(i({},"__esModule",{value:!0}),o);var W={};R(W,{Session:()=>p,Webhook:()=>c});module.exports=T(W);var a=n((o,e)=>{let t=e?Math.pow(10,e):1;return Math.ceil(o*t)/t},"preciseRound");var p=class{constructor(e,t,r){this.client=e,this.network=t,this.config=r}async create(e){try{let t=a(e.items.reduce((f,{price:w,quantity:g})=>f+w*g,0),3);e.shipping_fees&&(t=a(t+e.shipping_fees,3));let r=l(d({},e),{network:this.network,amount:t,config:this.config});return(await this.client.post("/session",r)).data}catch(t){throw new Error(t)}}};n(p,"Session");var k=require("svix");var c=class{constructor(e){this.client=e}async register(e){try{return(await this.client.post("/webhook",e)).data}catch(t){throw new Error(t)}}async verify(e){let t=new k.Webhook(e.webhook_secret);try{await t.verify(e.payload,e.headers)}catch(r){throw new Error("Invalid webhook signature")}}};n(c,"Webhook");0&&(module.exports={Session,Webhook});
//# sourceMappingURL=index.js.map