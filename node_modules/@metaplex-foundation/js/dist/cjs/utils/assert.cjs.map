{"version":3,"file":"assert.cjs","sources":["../../../src/utils/assert.ts"],"sourcesContent":["import { MetaplexError } from '../errors';\n\n/**\n * Error indicating that an assertion failed.\n * @group Errors\n */\nexport class AssertionError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'AssertionError';\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n  }\n}\n\n/**\n * Assserts that the provided condition is true.\n * @internal\n */\nexport default function assert(\n  condition: boolean,\n  message?: string\n): asserts condition {\n  if (!condition) {\n    throw new AssertionError(message ?? 'Assertion failed');\n  }\n}\n\n/**\n * Asserts that both values are strictly equal.\n * @internal\n */\nassert.equal = function assertEqual<T>(\n  actual: unknown,\n  expected: T,\n  message?: string\n): asserts actual is T {\n  if (actual !== expected) {\n    throw new AssertionError((message ?? '') + ` ${actual} !== ${expected}`);\n  }\n};\n\n/**\n * Asserts that a given object contains the specified\n * keys such that their values are defined.\n */\nexport function assertObjectHasDefinedKeys<\n  T extends object,\n  K extends keyof T = keyof T\n>(\n  input: T,\n  keys: K[],\n  onError: (missingKeys: K[]) => MetaplexError\n): asserts input is { [key in keyof T]: T[key] } & { [key in K]-?: T[key] } {\n  const missingKeys = keys.filter(\n    (property) => input?.[property] === undefined\n  );\n\n  if (missingKeys.length > 0) {\n    throw onError(missingKeys);\n  }\n}\n"],"names":["AssertionError","Error","constructor","message","name","captureStackTrace","assert","condition","equal","assertEqual","actual","expected","assertObjectHasDefinedKeys","input","keys","onError","missingKeys","filter","property","undefined","length"],"mappings":";;;;AAEA;AACA;AACA;AACA;AACO,MAAMA,cAAN,SAA6BC,KAA7B,CAAmC;EACxCC,WAAW,CAACC,OAAD,EAAkB;AAC3B,IAAA,KAAA,CAAMA,OAAN,CAAA,CAAA;IACA,IAAKC,CAAAA,IAAL,GAAY,gBAAZ,CAAA;;IACA,IAAIH,KAAK,CAACI,iBAAV,EAA6B;AAC3BJ,MAAAA,KAAK,CAACI,iBAAN,CAAwB,IAAxB,EAA8B,KAAKH,WAAnC,CAAA,CAAA;AACD,KAAA;AACF,GAAA;;AAPuC,CAAA;AAU1C;AACA;AACA;AACA;;AACe,SAASI,MAAT,CACbC,SADa,EAEbJ,OAFa,EAGM;EACnB,IAAI,CAACI,SAAL,EAAgB;AACd,IAAA,MAAM,IAAIP,cAAJ,CAAmBG,OAAO,IAAI,kBAA9B,CAAN,CAAA;AACD,GAAA;AACF,CAAA;AAED;AACA;AACA;AACA;;AACAG,MAAM,CAACE,KAAP,GAAe,SAASC,WAAT,CACbC,MADa,EAEbC,QAFa,EAGbR,OAHa,EAIQ;EACrB,IAAIO,MAAM,KAAKC,QAAf,EAAyB;AACvB,IAAA,MAAM,IAAIX,cAAJ,CAAmB,CAACG,OAAO,IAAI,EAAZ,IAAmB,CAAGO,CAAAA,EAAAA,MAAO,CAAOC,KAAAA,EAAAA,QAAS,EAAhE,CAAN,CAAA;AACD,GAAA;AACF,CARD,CAAA;AAUA;AACA;AACA;AACA;;;AACO,SAASC,0BAAT,CAILC,KAJK,EAKLC,IALK,EAMLC,OANK,EAOqE;AAC1E,EAAA,MAAMC,WAAW,GAAGF,IAAI,CAACG,MAAL,CACjBC,QAAD,IAAcL,KAAK,GAAGK,QAAH,CAAL,KAAsBC,SADlB,CAApB,CAAA;;AAIA,EAAA,IAAIH,WAAW,CAACI,MAAZ,GAAqB,CAAzB,EAA4B;IAC1B,MAAML,OAAO,CAACC,WAAD,CAAb,CAAA;AACD,GAAA;AACF;;;;;;"}