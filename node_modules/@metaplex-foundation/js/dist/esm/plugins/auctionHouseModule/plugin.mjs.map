{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/auctionHouseModule/plugin.ts"],"sourcesContent":["import { cusper, PROGRAM_ID } from '@metaplex-foundation/mpl-auction-house';\nimport { ProgramClient } from '../programModule';\nimport { AuctionHouseClient } from './AuctionHouseClient';\nimport {\n  cancelBidOperation,\n  cancelBidOperationHandler,\n  cancelListingOperation,\n  cancelListingOperationHandler,\n  createAuctionHouseOperation,\n  createAuctionHouseOperationHandler,\n  createBidOperation,\n  createBidOperationHandler,\n  createListingOperation,\n  createListingOperationHandler,\n  depositToBuyerAccountOperation,\n  depositToBuyerAccountOperationHandler,\n  directBuyOperation,\n  directBuyOperationHandler,\n  directSellOperation,\n  directSellOperationHandler,\n  executeSaleOperation,\n  executeSaleOperationHandler,\n  findAuctionHouseByAddressOperation,\n  findAuctionHouseByAddressOperationHandler,\n  findAuctionHouseByCreatorAndMintOperation,\n  findAuctionHouseByCreatorAndMintOperationHandler,\n  findBidByReceiptOperation,\n  findBidByReceiptOperationHandler,\n  findBidByTradeStateOperation,\n  findBidByTradeStateOperationHandler,\n  findBidsOperation,\n  findBidsOperationHandler,\n  findListingByReceiptOperation,\n  findListingByReceiptOperationHandler,\n  findListingByTradeStateOperation,\n  findListingByTradeStateOperationHandler,\n  findListingsOperation,\n  findListingsOperationHandler,\n  findPurchaseByReceiptOperation,\n  findPurchaseByReceiptOperationHandler,\n  findPurchaseByTradeStateOperation,\n  findPurchaseByTradeStateOperationHandler,\n  findPurchasesOperation,\n  findPurchasesOperationHandler,\n  getBuyerBalanceOperation,\n  getBuyerBalanceOperationHandler,\n  loadBidOperation,\n  loadBidOperationHandler,\n  loadListingOperation,\n  loadListingOperationHandler,\n  loadPurchaseOperation,\n  loadPurchaseOperationHandler,\n  updateAuctionHouseOperation,\n  updateAuctionHouseOperationHandler,\n  withdrawFromBuyerAccountOperation,\n  withdrawFromBuyerAccountOperationHandler,\n  withdrawFromFeeAccountOperation,\n  withdrawFromFeeAccountOperationHandler,\n  withdrawFromTreasuryAccountOperation,\n  withdrawFromTreasuryAccountOperationHandler,\n} from './operations';\nimport type { ErrorWithLogs, MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n\n/** @group Plugins */\nexport const auctionHouseModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Auction House Program.\n    const auctionHouseProgram = {\n      name: 'AuctionHouseProgram',\n      address: PROGRAM_ID,\n      errorResolver: (error: ErrorWithLogs) =>\n        cusper.errorFromProgramLogs(error.logs, false),\n    };\n    metaplex.programs().register(auctionHouseProgram);\n    metaplex.programs().getAuctionHouse = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(auctionHouseProgram.name, programs);\n    };\n\n    const op = metaplex.operations();\n    op.register(cancelBidOperation, cancelBidOperationHandler);\n    op.register(cancelListingOperation, cancelListingOperationHandler);\n    op.register(\n      createAuctionHouseOperation,\n      createAuctionHouseOperationHandler\n    );\n    op.register(createBidOperation, createBidOperationHandler);\n    op.register(createListingOperation, createListingOperationHandler);\n    op.register(\n      depositToBuyerAccountOperation,\n      depositToBuyerAccountOperationHandler\n    );\n    op.register(directBuyOperation, directBuyOperationHandler);\n    op.register(directSellOperation, directSellOperationHandler);\n    op.register(executeSaleOperation, executeSaleOperationHandler);\n    op.register(\n      findAuctionHouseByAddressOperation,\n      findAuctionHouseByAddressOperationHandler\n    );\n    op.register(\n      findAuctionHouseByCreatorAndMintOperation,\n      findAuctionHouseByCreatorAndMintOperationHandler\n    );\n    op.register(findBidByReceiptOperation, findBidByReceiptOperationHandler);\n    op.register(\n      findBidByTradeStateOperation,\n      findBidByTradeStateOperationHandler\n    );\n    op.register(findBidsOperation, findBidsOperationHandler);\n    op.register(\n      findListingByReceiptOperation,\n      findListingByReceiptOperationHandler\n    );\n    op.register(\n      findListingByTradeStateOperation,\n      findListingByTradeStateOperationHandler\n    );\n    op.register(findListingsOperation, findListingsOperationHandler);\n    op.register(\n      findPurchaseByReceiptOperation,\n      findPurchaseByReceiptOperationHandler\n    );\n    op.register(\n      findPurchaseByTradeStateOperation,\n      findPurchaseByTradeStateOperationHandler\n    );\n    op.register(findPurchasesOperation, findPurchasesOperationHandler);\n    op.register(getBuyerBalanceOperation, getBuyerBalanceOperationHandler);\n    op.register(loadBidOperation, loadBidOperationHandler);\n    op.register(loadListingOperation, loadListingOperationHandler);\n    op.register(loadPurchaseOperation, loadPurchaseOperationHandler);\n    op.register(\n      updateAuctionHouseOperation,\n      updateAuctionHouseOperationHandler\n    );\n    op.register(\n      withdrawFromBuyerAccountOperation,\n      withdrawFromBuyerAccountOperationHandler\n    );\n    op.register(\n      withdrawFromFeeAccountOperation,\n      withdrawFromFeeAccountOperationHandler\n    );\n    op.register(\n      withdrawFromTreasuryAccountOperation,\n      withdrawFromTreasuryAccountOperationHandler\n    );\n\n    metaplex.auctionHouse = function () {\n      return new AuctionHouseClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    auctionHouse(): AuctionHouseClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getAuctionHouse(programs?: Program[]): Program;\n  }\n}\n"],"names":["auctionHouseModule","install","metaplex","auctionHouseProgram","name","address","PROGRAM_ID","errorResolver","error","cusper","errorFromProgramLogs","logs","programs","register","getAuctionHouse","get","op","operations","cancelBidOperation","cancelBidOperationHandler","cancelListingOperation","cancelListingOperationHandler","createAuctionHouseOperation","createAuctionHouseOperationHandler","createBidOperation","createBidOperationHandler","createListingOperation","createListingOperationHandler","depositToBuyerAccountOperation","depositToBuyerAccountOperationHandler","directBuyOperation","directBuyOperationHandler","directSellOperation","directSellOperationHandler","executeSaleOperation","executeSaleOperationHandler","findAuctionHouseByAddressOperation","findAuctionHouseByAddressOperationHandler","findAuctionHouseByCreatorAndMintOperation","findAuctionHouseByCreatorAndMintOperationHandler","findBidByReceiptOperation","findBidByReceiptOperationHandler","findBidByTradeStateOperation","findBidByTradeStateOperationHandler","findBidsOperation","findBidsOperationHandler","findListingByReceiptOperation","findListingByReceiptOperationHandler","findListingByTradeStateOperation","findListingByTradeStateOperationHandler","findListingsOperation","findListingsOperationHandler","findPurchaseByReceiptOperation","findPurchaseByReceiptOperationHandler","findPurchaseByTradeStateOperation","findPurchaseByTradeStateOperationHandler","findPurchasesOperation","findPurchasesOperationHandler","getBuyerBalanceOperation","getBuyerBalanceOperationHandler","loadBidOperation","loadBidOperationHandler","loadListingOperation","loadListingOperationHandler","loadPurchaseOperation","loadPurchaseOperationHandler","updateAuctionHouseOperation","updateAuctionHouseOperationHandler","withdrawFromBuyerAccountOperation","withdrawFromBuyerAccountOperationHandler","withdrawFromFeeAccountOperation","withdrawFromFeeAccountOperationHandler","withdrawFromTreasuryAccountOperation","withdrawFromTreasuryAccountOperationHandler","auctionHouse","AuctionHouseClient"],"mappings":"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"}