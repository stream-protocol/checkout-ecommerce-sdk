{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/systemModule/plugin.ts"],"sourcesContent":["import { SystemProgram } from '@solana/web3.js';\nimport { ProgramClient } from '../programModule';\nimport {\n  createAccountOperation,\n  createAccountOperationHandler,\n  transferSolOperation,\n  transferSolOperationHandler,\n} from './operations';\nimport { SystemClient } from './SystemClient';\nimport type { MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n\n/**\n * @group Plugins\n */\n/** @group Plugins */\nexport const systemModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Program.\n    const systemProgram = {\n      name: 'SystemProgram',\n      address: SystemProgram.programId,\n    };\n    metaplex.programs().register(systemProgram);\n    metaplex.programs().getSystem = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(systemProgram.name, programs);\n    };\n\n    // Operations.\n    const op = metaplex.operations();\n    op.register(createAccountOperation, createAccountOperationHandler);\n    op.register(transferSolOperation, transferSolOperationHandler);\n\n    metaplex.system = function () {\n      return new SystemClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    system(): SystemClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getSystem(programs?: Program[]): Program;\n  }\n}\n"],"names":["systemModule","install","metaplex","systemProgram","name","address","SystemProgram","programId","programs","register","getSystem","get","op","operations","createAccountOperation","createAccountOperationHandler","transferSolOperation","transferSolOperationHandler","system","SystemClient"],"mappings":";;;;;AAYA;AACA;AACA;;AACA;AACO,MAAMA,YAAY,GAAG,OAAuB;EACjDC,OAAO,CAACC,QAAD,EAAqB;AAC1B;AACA,IAAA,MAAMC,aAAa,GAAG;AACpBC,MAAAA,IAAI,EAAE,eADc;MAEpBC,OAAO,EAAEC,aAAa,CAACC,SAAAA;KAFzB,CAAA;AAIAL,IAAAA,QAAQ,CAACM,QAAT,EAAoBC,CAAAA,QAApB,CAA6BN,aAA7B,CAAA,CAAA;;AACAD,IAAAA,QAAQ,CAACM,QAAT,EAAA,CAAoBE,SAApB,GAAgC,UAE9BF,QAF8B,EAG9B;MACA,OAAO,IAAA,CAAKG,GAAL,CAASR,aAAa,CAACC,IAAvB,EAA6BI,QAA7B,CAAP,CAAA;AACD,KALD,CAP0B;;;AAe1B,IAAA,MAAMI,EAAE,GAAGV,QAAQ,CAACW,UAAT,EAAX,CAAA;AACAD,IAAAA,EAAE,CAACH,QAAH,CAAYK,sBAAZ,EAAoCC,6BAApC,CAAA,CAAA;AACAH,IAAAA,EAAE,CAACH,QAAH,CAAYO,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;;IAEAf,QAAQ,CAACgB,MAAT,GAAkB,YAAY;AAC5B,MAAA,OAAO,IAAIC,YAAJ,CAAiB,IAAjB,CAAP,CAAA;KADF,CAAA;AAGD,GAAA;;AAvBgD,CAAvB;;;;"}