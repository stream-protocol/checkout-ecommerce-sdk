{"version":3,"file":"plugin.mjs","sources":["../../../../src/plugins/tokenModule/plugin.ts"],"sourcesContent":["import { ProgramClient } from '../programModule';\nimport {\n  approveTokenDelegateAuthorityOperation,\n  approveTokenDelegateAuthorityOperationHandler,\n  createMintOperation,\n  createMintOperationHandler,\n  createTokenOperation,\n  createTokenOperationHandler,\n  createTokenWithMintOperation,\n  createTokenWithMintOperationHandler,\n  findMintByAddressOperation,\n  findMintByAddressOperationHandler,\n  findTokenByAddressOperation,\n  findTokenByAddressOperationHandler,\n  findTokenWithMintByAddressOperation,\n  findTokenWithMintByAddressOperationHandler,\n  findTokenWithMintByMintOperation,\n  findTokenWithMintByMintOperationHandler,\n  freezeTokensOperation,\n  freezeTokensOperationHandler,\n  mintTokensOperation,\n  mintTokensOperationHandler,\n  revokeTokenDelegateAuthorityOperation,\n  revokeTokenDelegateAuthorityOperationHandler,\n  sendTokensOperation,\n  sendTokensOperationHandler,\n  thawTokensOperation,\n  thawTokensOperationHandler,\n} from './operations';\nimport { associatedTokenProgram, tokenProgram } from './program';\nimport { TokenClient } from './TokenClient';\nimport type { MetaplexPlugin, Program } from '@/types';\nimport type { Metaplex } from '@/Metaplex';\n/**\n * @group Plugins\n */\n/** @group Plugins */\nexport const tokenModule = (): MetaplexPlugin => ({\n  install(metaplex: Metaplex) {\n    // Token Program.\n    metaplex.programs().register(tokenProgram);\n    metaplex.programs().getToken = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(tokenProgram.name, programs);\n    };\n\n    // Associated Token Program.\n    metaplex.programs().register(associatedTokenProgram);\n    metaplex.programs().getAssociatedToken = function (\n      this: ProgramClient,\n      programs?: Program[]\n    ) {\n      return this.get(associatedTokenProgram.name, programs);\n    };\n\n    // Operations.\n    const op = metaplex.operations();\n    op.register(\n      approveTokenDelegateAuthorityOperation,\n      approveTokenDelegateAuthorityOperationHandler\n    );\n    op.register(createMintOperation, createMintOperationHandler);\n    op.register(createTokenOperation, createTokenOperationHandler);\n    op.register(\n      createTokenWithMintOperation,\n      createTokenWithMintOperationHandler\n    );\n    op.register(findMintByAddressOperation, findMintByAddressOperationHandler);\n    op.register(\n      findTokenByAddressOperation,\n      findTokenByAddressOperationHandler\n    );\n    op.register(\n      findTokenWithMintByAddressOperation,\n      findTokenWithMintByAddressOperationHandler\n    );\n    op.register(\n      findTokenWithMintByMintOperation,\n      findTokenWithMintByMintOperationHandler\n    );\n    op.register(freezeTokensOperation, freezeTokensOperationHandler);\n    op.register(mintTokensOperation, mintTokensOperationHandler);\n    op.register(\n      revokeTokenDelegateAuthorityOperation,\n      revokeTokenDelegateAuthorityOperationHandler\n    );\n    op.register(sendTokensOperation, sendTokensOperationHandler);\n    op.register(thawTokensOperation, thawTokensOperationHandler);\n\n    metaplex.tokens = function () {\n      return new TokenClient(this);\n    };\n  },\n});\n\ndeclare module '../../Metaplex' {\n  interface Metaplex {\n    tokens(): TokenClient;\n  }\n}\n\ndeclare module '../programModule/ProgramClient' {\n  interface ProgramClient {\n    getToken(programs?: Program[]): Program;\n    getAssociatedToken(programs?: Program[]): Program;\n  }\n}\n"],"names":["tokenModule","install","metaplex","programs","register","tokenProgram","getToken","get","name","associatedTokenProgram","getAssociatedToken","op","operations","approveTokenDelegateAuthorityOperation","approveTokenDelegateAuthorityOperationHandler","createMintOperation","createMintOperationHandler","createTokenOperation","createTokenOperationHandler","createTokenWithMintOperation","createTokenWithMintOperationHandler","findMintByAddressOperation","findMintByAddressOperationHandler","findTokenByAddressOperation","findTokenByAddressOperationHandler","findTokenWithMintByAddressOperation","findTokenWithMintByAddressOperationHandler","findTokenWithMintByMintOperation","findTokenWithMintByMintOperationHandler","freezeTokensOperation","freezeTokensOperationHandler","mintTokensOperation","mintTokensOperationHandler","revokeTokenDelegateAuthorityOperation","revokeTokenDelegateAuthorityOperationHandler","sendTokensOperation","sendTokensOperationHandler","thawTokensOperation","thawTokensOperationHandler","tokens","TokenClient"],"mappings":";;;;;;;;;;;;;;;;AAiCA;AACA;AACA;;AACA;AACO,MAAMA,WAAW,GAAG,OAAuB;EAChDC,OAAO,CAACC,QAAD,EAAqB;AAC1B;AACAA,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6BC,YAA7B,CAAA,CAAA;;AACAH,IAAAA,QAAQ,CAACC,QAAT,EAAA,CAAoBG,QAApB,GAA+B,UAE7BH,QAF6B,EAG7B;MACA,OAAO,IAAA,CAAKI,GAAL,CAASF,YAAY,CAACG,IAAtB,EAA4BL,QAA5B,CAAP,CAAA;AACD,KALD,CAH0B;;;AAW1BD,IAAAA,QAAQ,CAACC,QAAT,EAAoBC,CAAAA,QAApB,CAA6BK,sBAA7B,CAAA,CAAA;;AACAP,IAAAA,QAAQ,CAACC,QAAT,EAAA,CAAoBO,kBAApB,GAAyC,UAEvCP,QAFuC,EAGvC;MACA,OAAO,IAAA,CAAKI,GAAL,CAASE,sBAAsB,CAACD,IAAhC,EAAsCL,QAAtC,CAAP,CAAA;AACD,KALD,CAZ0B;;;AAoB1B,IAAA,MAAMQ,EAAE,GAAGT,QAAQ,CAACU,UAAT,EAAX,CAAA;AACAD,IAAAA,EAAE,CAACP,QAAH,CACES,sCADF,EAEEC,6CAFF,CAAA,CAAA;AAIAH,IAAAA,EAAE,CAACP,QAAH,CAAYW,mBAAZ,EAAiCC,0BAAjC,CAAA,CAAA;AACAL,IAAAA,EAAE,CAACP,QAAH,CAAYa,oBAAZ,EAAkCC,2BAAlC,CAAA,CAAA;AACAP,IAAAA,EAAE,CAACP,QAAH,CACEe,4BADF,EAEEC,mCAFF,CAAA,CAAA;AAIAT,IAAAA,EAAE,CAACP,QAAH,CAAYiB,0BAAZ,EAAwCC,iCAAxC,CAAA,CAAA;AACAX,IAAAA,EAAE,CAACP,QAAH,CACEmB,2BADF,EAEEC,kCAFF,CAAA,CAAA;AAIAb,IAAAA,EAAE,CAACP,QAAH,CACEqB,mCADF,EAEEC,0CAFF,CAAA,CAAA;AAIAf,IAAAA,EAAE,CAACP,QAAH,CACEuB,gCADF,EAEEC,uCAFF,CAAA,CAAA;AAIAjB,IAAAA,EAAE,CAACP,QAAH,CAAYyB,qBAAZ,EAAmCC,4BAAnC,CAAA,CAAA;AACAnB,IAAAA,EAAE,CAACP,QAAH,CAAY2B,mBAAZ,EAAiCC,0BAAjC,CAAA,CAAA;AACArB,IAAAA,EAAE,CAACP,QAAH,CACE6B,qCADF,EAEEC,4CAFF,CAAA,CAAA;AAIAvB,IAAAA,EAAE,CAACP,QAAH,CAAY+B,mBAAZ,EAAiCC,0BAAjC,CAAA,CAAA;AACAzB,IAAAA,EAAE,CAACP,QAAH,CAAYiC,mBAAZ,EAAiCC,0BAAjC,CAAA,CAAA;;IAEApC,QAAQ,CAACqC,MAAT,GAAkB,YAAY;AAC5B,MAAA,OAAO,IAAIC,WAAJ,CAAgB,IAAhB,CAAP,CAAA;KADF,CAAA;AAGD,GAAA;;AAzD+C,CAAvB;;;;"}