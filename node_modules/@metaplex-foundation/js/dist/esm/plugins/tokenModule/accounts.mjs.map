{"version":3,"file":"accounts.mjs","sources":["../../../../src/plugins/tokenModule/accounts.ts"],"sourcesContent":["import {\n  AccountLayout as SplTokenAccountLayout,\n  MintLayout as SplMintAccountLayout,\n  RawAccount as SplTokenAccount,\n  RawMint as SplMintAccount,\n} from '@solana/spl-token';\nimport { NotYetImplementedError } from '@/errors';\nimport {\n  Account,\n  SolitaType,\n  getAccountParsingAndAssertingFunction,\n  getAccountParsingFunction,\n} from '@/types';\n\nconst mintAccountParser: SolitaType<SplMintAccount> = {\n  name: 'MintAccount',\n  deserialize: (data: Buffer, offset?: number) => {\n    const span = SplMintAccountLayout.getSpan(data, offset);\n    const decoded = SplMintAccountLayout.decode(data, offset);\n    return [decoded, span];\n  },\n  fromArgs() {\n    throw new NotYetImplementedError();\n  },\n};\n\n/** @group Accounts */\nexport type MintAccount = Account<SplMintAccount>;\n\n/** @group Account Helpers */\nexport const parseMintAccount = getAccountParsingFunction(mintAccountParser);\n\n/** @group Account Helpers */\nexport const toMintAccount =\n  getAccountParsingAndAssertingFunction(mintAccountParser);\n\nconst tokenAccountParser: SolitaType<SplTokenAccount> = {\n  name: 'TokenAccount',\n  deserialize: (data: Buffer, offset?: number) => {\n    const span = SplTokenAccountLayout.getSpan(data, offset);\n    const decoded = SplTokenAccountLayout.decode(data, offset);\n    return [decoded, span];\n  },\n  fromArgs() {\n    throw new NotYetImplementedError();\n  },\n};\n\n/** @group Accounts */\nexport type TokenAccount = Account<SplTokenAccount>;\n\n/** @group Account Helpers */\nexport const parseTokenAccount = getAccountParsingFunction(tokenAccountParser);\n\n/** @group Account Helpers */\nexport const toTokenAccount =\n  getAccountParsingAndAssertingFunction(tokenAccountParser);\n"],"names":["mintAccountParser","name","deserialize","data","offset","span","SplMintAccountLayout","getSpan","decoded","decode","fromArgs","NotYetImplementedError","parseMintAccount","getAccountParsingFunction","toMintAccount","getAccountParsingAndAssertingFunction","tokenAccountParser","SplTokenAccountLayout","parseTokenAccount","toTokenAccount"],"mappings":";;;;AAcA,MAAMA,iBAA6C,GAAG;AACpDC,EAAAA,IAAI,EAAE,aAD8C;AAEpDC,EAAAA,WAAW,EAAE,CAACC,IAAD,EAAeC,MAAf,KAAmC;IAC9C,MAAMC,IAAI,GAAGC,UAAoB,CAACC,OAArB,CAA6BJ,IAA7B,EAAmCC,MAAnC,CAAb,CAAA;IACA,MAAMI,OAAO,GAAGF,UAAoB,CAACG,MAArB,CAA4BN,IAA5B,EAAkCC,MAAlC,CAAhB,CAAA;AACA,IAAA,OAAO,CAACI,OAAD,EAAUH,IAAV,CAAP,CAAA;GALkD;;AAOpDK,EAAAA,QAAQ,GAAG;IACT,MAAM,IAAIC,sBAAJ,EAAN,CAAA;AACD,GAAA;;AATmD,CAAtD,CAAA;AAYA;;AAGA;MACaC,gBAAgB,GAAGC,yBAAyB,CAACb,iBAAD,EAAlD;AAEP;;MACac,aAAa,GACxBC,qCAAqC,CAACf,iBAAD,EADhC;AAGP,MAAMgB,kBAA+C,GAAG;AACtDf,EAAAA,IAAI,EAAE,cADgD;AAEtDC,EAAAA,WAAW,EAAE,CAACC,IAAD,EAAeC,MAAf,KAAmC;IAC9C,MAAMC,IAAI,GAAGY,aAAqB,CAACV,OAAtB,CAA8BJ,IAA9B,EAAoCC,MAApC,CAAb,CAAA;IACA,MAAMI,OAAO,GAAGS,aAAqB,CAACR,MAAtB,CAA6BN,IAA7B,EAAmCC,MAAnC,CAAhB,CAAA;AACA,IAAA,OAAO,CAACI,OAAD,EAAUH,IAAV,CAAP,CAAA;GALoD;;AAOtDK,EAAAA,QAAQ,GAAG;IACT,MAAM,IAAIC,sBAAJ,EAAN,CAAA;AACD,GAAA;;AATqD,CAAxD,CAAA;AAYA;;AAGA;MACaO,iBAAiB,GAAGL,yBAAyB,CAACG,kBAAD,EAAnD;AAEP;;MACaG,cAAc,GACzBJ,qCAAqC,CAACC,kBAAD;;;;"}